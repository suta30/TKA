<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CBT - Tes Kemampuan Akademik (TKA)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .progress-bar {
            transition: width 0.3s ease;
        }
        #questionPanel {
            transition: transform 0.3s ease;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <!-- Header -->
    <header class="bg-white shadow-lg border-b-4 border-blue-600">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center">
                        <span class="text-white font-bold text-lg">üìö</span>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-800">CBT - Tes Kemampuan Akademik</h1>
                        <p class="text-sm text-gray-600">Sistem Simulasi Online TKA</p>
                    </div>
                </div>
                <div id="timer" class="text-right hidden">
                    <div class="text-2xl font-bold text-red-600" id="timeDisplay">180:00</div>
                    <div class="text-sm text-gray-600">Waktu Tersisa</div>
                </div>
            </div>
        </div>
    </header>

    <div class="container mx-auto px-6 py-8">
        <!-- Login Form -->
        <div id="loginForm" class="max-w-md mx-auto bg-white rounded-xl shadow-lg p-8 fade-in">
            <div class="text-center mb-8">
                <div class="w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-4xl">üë®‚Äçüéì</span>
                </div>
                <h2 class="text-2xl font-bold text-gray-800 mb-2">Selamat Datang</h2>
                <p class="text-gray-600">Masukkan nama Anda untuk memulai ujian TKA</p>
            </div>
            
            <form onsubmit="startExam(event)" class="space-y-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Nama Lengkap</label>
                    <input type="text" id="studentName" required 
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                           placeholder="Masukkan nama lengkap Anda">
                </div>
                
                <div class="bg-blue-50 p-4 rounded-lg">
                    <h3 class="font-semibold text-blue-800 mb-2">Informasi Ujian:</h3>
                    <ul class="text-sm text-blue-700 space-y-1">
                        <li>‚Ä¢ Bahasa Indonesia: 25 soal</li>
                        <li>‚Ä¢ Matematika: 25 soal</li>
                        <li>‚Ä¢ Bahasa Inggris: 25 soal</li>
                        <li>‚Ä¢ Waktu: 180 menit (3 jam)</li>
                        <li>‚Ä¢ Total: 75 soal (setiap soal = 4 poin)</li>
                    </ul>
                </div>
                
                <button type="submit" 
                        class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition duration-200 transform hover:scale-105">
                    Mulai Ujian
                </button>
            </form>
        </div>

        <!-- Exam Interface -->
        <div id="examInterface" class="hidden">
            <!-- Progress Bar -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <h3 class="text-lg font-semibold text-gray-800" id="subjectTitle">Bahasa Indonesia</h3>
                        <p class="text-sm text-gray-600">Soal <span id="questionNumber">1</span> dari <span id="totalQuestions">10</span></p>
                    </div>
                    <div class="text-right">
                        <p class="text-sm text-gray-600">Peserta: <span id="examStudentName" class="font-semibold"></span></p>
                        <button onclick="toggleQuestionPanel()" class="mt-2 bg-blue-600 hover:bg-blue-700 text-white text-sm px-3 py-1 rounded-lg transition duration-200">
                            üìã Daftar Soal
                        </button>
                    </div>
                </div>
                
                <div class="w-full bg-gray-200 rounded-full h-3">
                    <div class="bg-blue-600 h-3 rounded-full progress-bar" id="progressBar" style="width: 0%"></div>
                </div>
            </div>

            <!-- Question Navigation Panel -->
            <div id="questionPanel" class="hidden fixed top-0 right-0 w-80 h-full bg-white shadow-2xl z-50 overflow-y-auto">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-lg font-semibold text-gray-800">Daftar Soal</h3>
                        <button onclick="toggleQuestionPanel()" class="text-gray-500 hover:text-gray-700 text-xl">√ó</button>
                    </div>
                    
                    <!-- Indonesian Questions -->
                    <div class="mb-6">
                        <h4 class="text-md font-semibold text-blue-800 mb-3">Bahasa Indonesia (1-25)</h4>
                        <div class="grid grid-cols-5 gap-2" id="indoQuestionGrid">
                            <!-- Questions 1-25 will be generated here -->
                        </div>
                    </div>
                    
                    <!-- Math Questions -->
                    <div class="mb-6">
                        <h4 class="text-md font-semibold text-green-800 mb-3">Matematika (26-50)</h4>
                        <div class="grid grid-cols-5 gap-2" id="mathQuestionGrid">
                            <!-- Questions 26-50 will be generated here -->
                        </div>
                    </div>
                    
                    <!-- English Questions -->
                    <div class="mb-6">
                        <h4 class="text-md font-semibold text-purple-800 mb-3">Bahasa Inggris (51-75)</h4>
                        <div class="grid grid-cols-5 gap-2" id="engQuestionGrid">
                            <!-- Questions 51-75 will be generated here -->
                        </div>
                    </div>
                    
                    <!-- Legend -->
                    <div class="mt-6 p-4 bg-gray-50 rounded-lg">
                        <h5 class="text-sm font-semibold text-gray-700 mb-2">Keterangan:</h5>
                        <div class="space-y-1 text-xs">
                            <div class="flex items-center space-x-2">
                                <div class="w-4 h-4 bg-blue-600 rounded"></div>
                                <span>Soal aktif</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="w-4 h-4 bg-green-500 rounded"></div>
                                <span>Sudah dijawab</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="w-4 h-4 bg-gray-300 rounded"></div>
                                <span>Belum dijawab</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Overlay for question panel -->
            <div id="questionPanelOverlay" class="hidden fixed inset-0 bg-black bg-opacity-50 z-40" onclick="toggleQuestionPanel()"></div>

            <!-- Question Card -->
            <div class="bg-white rounded-lg shadow-lg p-8 mb-6">
                <div class="mb-6">
                    <h4 class="text-lg font-semibold text-gray-800 mb-4" id="questionText">Loading...</h4>
                </div>
                
                <div class="space-y-3" id="optionsContainer">
                    <!-- Options will be inserted here -->
                </div>
            </div>

            <!-- Navigation -->
            <div class="flex justify-between items-center">
                <button onclick="previousQuestion()" id="prevBtn" 
                        class="bg-gray-500 hover:bg-gray-600 text-white font-semibold py-3 px-6 rounded-lg transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed">
                    ‚Üê Sebelumnya
                </button>
                
                <div class="flex space-x-4">
                    <button onclick="nextQuestion()" id="nextBtn"
                            class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition duration-200">
                        Selanjutnya ‚Üí
                    </button>
                    <button onclick="finishExam()" id="finishBtn" class="hidden bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition duration-200">
                        Selesai Ujian
                    </button>
                </div>
            </div>
        </div>

        <!-- Results -->
        <div id="resultsInterface" class="hidden max-w-4xl mx-auto">
            <div class="bg-white rounded-xl shadow-lg p-8 fade-in">
                <div class="text-center mb-8">
                    <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-4xl">üéâ</span>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">Ujian Selesai!</h2>
                    <p class="text-gray-600">Berikut adalah hasil ujian TKA Anda</p>
                </div>

                <div class="grid md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-blue-50 p-6 rounded-lg text-center">
                        <h3 class="text-lg font-semibold text-blue-800 mb-2">Bahasa Indonesia</h3>
                        <div class="text-3xl font-bold text-blue-600" id="indoScore">0</div>
                        <p class="text-sm text-blue-700">dari 25 soal</p>
                        <p class="text-xs text-blue-600 mt-1" id="indoPoints">0 poin</p>
                    </div>
                    <div class="bg-green-50 p-6 rounded-lg text-center">
                        <h3 class="text-lg font-semibold text-green-800 mb-2">Matematika</h3>
                        <div class="text-3xl font-bold text-green-600" id="mathScore">0</div>
                        <p class="text-sm text-green-700">dari 25 soal</p>
                        <p class="text-xs text-green-600 mt-1" id="mathPoints">0 poin</p>
                    </div>
                    <div class="bg-purple-50 p-6 rounded-lg text-center">
                        <h3 class="text-lg font-semibold text-purple-800 mb-2">Bahasa Inggris</h3>
                        <div class="text-3xl font-bold text-purple-600" id="engScore">0</div>
                        <p class="text-sm text-purple-700">dari 25 soal</p>
                        <p class="text-xs text-purple-600 mt-1" id="engPoints">0 poin</p>
                    </div>
                </div>

                <div class="bg-gray-50 p-6 rounded-lg text-center">
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Nilai Akhir</h3>
                    <div class="text-5xl font-bold text-gray-800 mb-2" id="finalScore">0</div>
                    <p class="text-gray-600 mb-4">dari 300 poin</p>
                    <div class="text-lg font-semibold" id="gradeCategory">Kategori</div>
                    <p class="text-sm text-gray-500 mt-2">Benar: <span id="correctAnswers">0</span> | Salah: <span id="wrongAnswers">0</span></p>
                </div>

                <div class="text-center mt-8">
                    <button onclick="restartExam()" 
                            class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-8 rounded-lg transition duration-200">
                        Ulangi Ujian
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 py-4 mt-8">
        <div class="container mx-auto px-6 text-center">
            <p class="text-sm text-gray-600">
                ¬© 2025 by 
                <a href="https://p-suta.my.id/" target="_blank" rel="noopener noreferrer" 
                   class="text-blue-600 hover:text-blue-800 font-semibold transition duration-200 hover:underline">
                    Pak Suta
                </a>
                - Sistem CBT TKA
            </p>
        </div>
    </footer>

    <script>
        // Exam data - 25 questions per subject (75 total)
        const examData = {
            indonesian: [
                {
                    question: "Bacalah paragraf berikut!\n\n\"Pendidikan karakter sangat penting dalam membentuk kepribadian siswa. Melalui pendidikan karakter, siswa dapat mengembangkan nilai-nilai moral yang baik.\"\n\nIde pokok paragraf tersebut adalah...",
                    options: ["Kepribadian siswa yang baik", "Pentingnya pendidikan karakter", "Nilai-nilai moral dalam pendidikan", "Pengembangan karakter siswa"],
                    correct: 1
                },
                {
                    question: "Kata yang bersinonim dengan 'rajin' adalah...",
                    options: ["Malas", "Tekun", "Lambat", "Ceroboh"],
                    correct: 1
                },
                {
                    question: "Kalimat yang menggunakan kata baku adalah...",
                    options: ["Dia nggak datang ke sekolah", "Mereka tidak hadir dalam rapat", "Saya udah selesai mengerjakan", "Kamu gimana kabarnya?"],
                    correct: 1
                },
                {
                    question: "Jenis puisi yang terdiri dari 14 baris disebut...",
                    options: ["Pantun", "Syair", "Sonnet", "Balada"],
                    correct: 2
                },
                {
                    question: "Unsur intrinsik cerpen yang berkaitan dengan waktu dan tempat adalah...",
                    options: ["Tema", "Alur", "Latar", "Penokohan"],
                    correct: 2
                },
                {
                    question: "Majas yang membandingkan dua hal dengan menggunakan kata 'seperti' atau 'bagaikan' adalah...",
                    options: ["Metafora", "Simile", "Personifikasi", "Hiperbola"],
                    correct: 1
                },
                {
                    question: "Struktur teks eksposisi yang berisi penegasan kembali pendapat adalah...",
                    options: ["Tesis", "Argumentasi", "Penegasan ulang", "Orientasi"],
                    correct: 2
                },
                {
                    question: "Jenis paragraf berdasarkan letak kalimat utama di awal paragraf disebut...",
                    options: ["Deduktif", "Induktif", "Campuran", "Naratif"],
                    correct: 0
                },
                {
                    question: "Gaya bahasa yang memberikan sifat manusia pada benda mati disebut...",
                    options: ["Metafora", "Simile", "Personifikasi", "Alegori"],
                    correct: 2
                },
                {
                    question: "Dalam kalimat efektif, syarat yang harus dipenuhi adalah...",
                    options: ["Panjang dan rumit", "Singkat dan jelas", "Banyak kata sifat", "Menggunakan bahasa daerah"],
                    correct: 1
                },
                {
                    question: "Kata yang berantonim dengan 'gelap' adalah...",
                    options: ["Terang", "Suram", "Redup", "Kabur"],
                    correct: 0
                },
                {
                    question: "Kalimat yang menggunakan majas hiperbola adalah...",
                    options: ["Bunga mawar itu merah", "Suaranya merdu seperti burung", "Aku menunggu sejuta tahun", "Angin berbisik lembut"],
                    correct: 2
                },
                {
                    question: "Struktur teks berita yang berisi informasi penting adalah...",
                    options: ["Lead", "Body", "Tail", "Headline"],
                    correct: 0
                },
                {
                    question: "Jenis kalimat berdasarkan jumlah klausa yang memiliki satu subjek dan satu predikat adalah...",
                    options: ["Kalimat majemuk", "Kalimat tunggal", "Kalimat kompleks", "Kalimat campuran"],
                    correct: 1
                },
                {
                    question: "Unsur pembangun puisi yang berkaitan dengan bunyi adalah...",
                    options: ["Tema", "Rima", "Amanat", "Diksi"],
                    correct: 1
                },
                {
                    question: "Kata yang tepat untuk melengkapi kalimat 'Dia ... ke sekolah setiap hari' adalah...",
                    options: ["pergi", "berangkat", "datang", "pulang"],
                    correct: 1
                },
                {
                    question: "Jenis teks yang bertujuan memberikan informasi adalah...",
                    options: ["Teks deskripsi", "Teks eksposisi", "Teks narasi", "Teks argumentasi"],
                    correct: 1
                },
                {
                    question: "Kata yang berimbuhan me-kan dalam kalimat adalah...",
                    options: ["membaca", "menuliskan", "berlari", "tertawa"],
                    correct: 1
                },
                {
                    question: "Unsur intrinsik novel yang menggambarkan watak tokoh adalah...",
                    options: ["Alur", "Tema", "Penokohan", "Sudut pandang"],
                    correct: 2
                },
                {
                    question: "Kalimat yang menggunakan kata penghubung sebab-akibat adalah...",
                    options: ["Dia rajin, tetapi nilainya jelek", "Karena hujan, jalan menjadi licin", "Dia pintar dan rajin", "Meskipun sakit, dia tetap sekolah"],
                    correct: 1
                },
                {
                    question: "Jenis pantun yang berisi nasihat adalah...",
                    options: ["Pantun jenaka", "Pantun adat", "Pantun nasihat", "Pantun teka-teki"],
                    correct: 2
                },
                {
                    question: "Kata yang bermakna konotasi dalam kalimat 'Dia bermulut manis' adalah...",
                    options: ["Dia", "bermulut", "manis", "bermulut manis"],
                    correct: 3
                },
                {
                    question: "Struktur teks laporan hasil observasi yang berisi definisi umum adalah...",
                    options: ["Orientasi", "Klasifikasi", "Deskripsi bagian", "Penutup"],
                    correct: 0
                },
                {
                    question: "Kalimat yang menggunakan kata baku adalah...",
                    options: ["Dia nggak bisa datang", "Mereka tidak dapat hadir", "Saya udah selesai", "Gimana kabarmu?"],
                    correct: 1
                },
                {
                    question: "Majas yang menyatakan sesuatu dengan berlebihan adalah...",
                    options: ["Metafora", "Personifikasi", "Hiperbola", "Simile"],
                    correct: 2
                }
            ],
            math: [
                {
                    question: "Hasil dari 15 √ó 8 - 45 √∑ 9 adalah...",
                    options: ["115", "125", "135", "145"],
                    correct: 0
                },
                {
                    question: "Jika 3x + 7 = 22, maka nilai x adalah...",
                    options: ["3", "4", "5", "6"],
                    correct: 2
                },
                {
                    question: "Luas persegi panjang dengan panjang 12 cm dan lebar 8 cm adalah...",
                    options: ["96 cm¬≤", "40 cm¬≤", "20 cm¬≤", "48 cm¬≤"],
                    correct: 0
                },
                {
                    question: "Hasil dari ‚àö144 + ‚àö81 adalah...",
                    options: ["15", "21", "18", "24"],
                    correct: 1
                },
                {
                    question: "Dalam barisan aritmatika 5, 8, 11, 14, ..., suku ke-10 adalah...",
                    options: ["32", "35", "38", "41"],
                    correct: 0
                },
                {
                    question: "Volume kubus dengan panjang rusuk 6 cm adalah...",
                    options: ["216 cm¬≥", "36 cm¬≥", "108 cm¬≥", "144 cm¬≥"],
                    correct: 0
                },
                {
                    question: "Hasil dari 2¬≥ √ó 2‚Å¥ adalah...",
                    options: ["2‚Å∑", "2¬π¬≤", "4‚Å∑", "8‚Å¥"],
                    correct: 0
                },
                {
                    question: "Keliling lingkaran dengan jari-jari 7 cm adalah... (œÄ = 22/7)",
                    options: ["22 cm", "44 cm", "66 cm", "88 cm"],
                    correct: 1
                },
                {
                    question: "Hasil dari 25% dari 80 adalah...",
                    options: ["15", "20", "25", "30"],
                    correct: 1
                },
                {
                    question: "Jika a = 5 dan b = 3, maka nilai dari a¬≤ + b¬≤ adalah...",
                    options: ["25", "34", "64", "28"],
                    correct: 1
                },
                {
                    question: "Luas segitiga dengan alas 10 cm dan tinggi 8 cm adalah...",
                    options: ["40 cm¬≤", "80 cm¬≤", "18 cm¬≤", "36 cm¬≤"],
                    correct: 0
                },
                {
                    question: "Hasil dari 7! √∑ 5! adalah...",
                    options: ["42", "35", "21", "14"],
                    correct: 0
                },
                {
                    question: "Dalam deret geometri 2, 6, 18, 54, ..., suku ke-6 adalah...",
                    options: ["162", "486", "1458", "324"],
                    correct: 1
                },
                {
                    question: "Jika log 2 = 0,301, maka log 8 adalah...",
                    options: ["0,602", "0,903", "1,204", "2,408"],
                    correct: 1
                },
                {
                    question: "Hasil dari sin 30¬∞ + cos 60¬∞ adalah...",
                    options: ["1", "0,5", "‚àö3/2", "1,5"],
                    correct: 0
                },
                {
                    question: "Turunan dari f(x) = 3x¬≤ + 2x - 1 adalah...",
                    options: ["6x + 2", "3x + 2", "6x - 1", "3x¬≤ + 2"],
                    correct: 0
                },
                {
                    question: "Integral dari ‚à´2x dx adalah...",
                    options: ["x¬≤ + C", "2x¬≤ + C", "x¬≤/2 + C", "2x + C"],
                    correct: 0
                },
                {
                    question: "Jika matriks A = [2 3; 1 4], maka determinan A adalah...",
                    options: ["5", "8", "11", "7"],
                    correct: 0
                },
                {
                    question: "Hasil dari lim(x‚Üí2) (x¬≤ - 4)/(x - 2) adalah...",
                    options: ["0", "2", "4", "‚àû"],
                    correct: 2
                },
                {
                    question: "Dalam segitiga siku-siku dengan sisi 3, 4, dan 5, nilai sin Œ± (sudut terkecil) adalah...",
                    options: ["3/5", "4/5", "3/4", "4/3"],
                    correct: 0
                },
                {
                    question: "Hasil dari C(5,2) adalah...",
                    options: ["10", "20", "25", "5"],
                    correct: 0
                },
                {
                    question: "Jika f(x) = x¬≥ - 2x + 1, maka f'(1) adalah...",
                    options: ["1", "2", "3", "0"],
                    correct: 0
                },
                {
                    question: "Persamaan garis yang melalui titik (2,3) dan (4,7) adalah...",
                    options: ["y = 2x - 1", "y = 2x + 1", "y = x + 1", "y = 3x - 3"],
                    correct: 0
                },
                {
                    question: "Hasil dari ‚à´‚ÇÄ¬≤ x dx adalah...",
                    options: ["2", "4", "1", "8"],
                    correct: 0
                },
                {
                    question: "Jika vektor a = (3,4) dan b = (1,2), maka a ¬∑ b adalah...",
                    options: ["11", "7", "5", "14"],
                    correct: 0
                }
            ],
            english: [
                {
                    question: "Choose the correct form: 'She _____ to school every day.'",
                    options: ["go", "goes", "going", "gone"],
                    correct: 1
                },
                {
                    question: "What is the past tense of 'write'?",
                    options: ["writed", "wrote", "written", "writes"],
                    correct: 1
                },
                {
                    question: "Which sentence is grammatically correct?",
                    options: ["He don't like coffee", "He doesn't likes coffee", "He doesn't like coffee", "He not like coffee"],
                    correct: 2
                },
                {
                    question: "Choose the correct preposition: 'The book is _____ the table.'",
                    options: ["in", "on", "at", "by"],
                    correct: 1
                },
                {
                    question: "What does 'enormous' mean?",
                    options: ["Very small", "Very large", "Very fast", "Very slow"],
                    correct: 1
                },
                {
                    question: "Which word is a synonym for 'happy'?",
                    options: ["Sad", "Angry", "Joyful", "Tired"],
                    correct: 2
                },
                {
                    question: "Choose the correct article: '_____ apple a day keeps the doctor away.'",
                    options: ["A", "An", "The", "No article"],
                    correct: 1
                },
                {
                    question: "What is the plural form of 'child'?",
                    options: ["childs", "childes", "children", "child"],
                    correct: 2
                },
                {
                    question: "Choose the correct form: 'I _____ been to London twice.'",
                    options: ["has", "have", "had", "having"],
                    correct: 1
                },
                {
                    question: "Which sentence uses the passive voice?",
                    options: ["She writes a letter", "A letter is written by her", "She is writing a letter", "She will write a letter"],
                    correct: 1
                },
                {
                    question: "What is the comparative form of 'good'?",
                    options: ["gooder", "more good", "better", "best"],
                    correct: 2
                },
                {
                    question: "Choose the correct conjunction: 'I was tired _____ I went to bed early.'",
                    options: ["but", "so", "or", "and"],
                    correct: 1
                },
                {
                    question: "What does 'procrastinate' mean?",
                    options: ["To hurry up", "To delay or postpone", "To finish quickly", "To start immediately"],
                    correct: 1
                },
                {
                    question: "Choose the correct form: 'If I _____ rich, I would travel the world.'",
                    options: ["am", "was", "were", "will be"],
                    correct: 2
                },
                {
                    question: "Which word is an antonym for 'ancient'?",
                    options: ["Old", "Modern", "Historic", "Traditional"],
                    correct: 1
                },
                {
                    question: "Choose the correct form: 'She has been _____ for two hours.'",
                    options: ["study", "studied", "studying", "studies"],
                    correct: 2
                },
                {
                    question: "What is the past participle of 'break'?",
                    options: ["breaked", "broke", "broken", "breaking"],
                    correct: 2
                },
                {
                    question: "Choose the correct preposition: 'She is interested _____ music.'",
                    options: ["in", "on", "at", "for"],
                    correct: 0
                },
                {
                    question: "Which sentence is in the future perfect tense?",
                    options: ["I will go", "I will be going", "I will have gone", "I am going"],
                    correct: 2
                },
                {
                    question: "What does 'ubiquitous' mean?",
                    options: ["Rare", "Present everywhere", "Very large", "Very small"],
                    correct: 1
                },
                {
                    question: "Choose the correct form: 'Neither John _____ Mary came to the party.'",
                    options: ["or", "nor", "and", "but"],
                    correct: 1
                },
                {
                    question: "What is the superlative form of 'far'?",
                    options: ["farer", "more far", "farthest", "most far"],
                    correct: 2
                },
                {
                    question: "Choose the correct form: 'I wish I _____ speak French fluently.'",
                    options: ["can", "could", "will", "would"],
                    correct: 1
                },
                {
                    question: "Which word is a synonym for 'meticulous'?",
                    options: ["Careless", "Careful", "Quick", "Lazy"],
                    correct: 1
                },
                {
                    question: "Choose the correct form: 'The meeting _____ at 9 AM tomorrow.'",
                    options: ["start", "starts", "starting", "will start"],
                    correct: 1
                }
            ]
        };

        let currentSubject = 'indonesian';
        let currentQuestion = 0;
        let answers = {
            indonesian: [],
            math: [],
            english: []
        };
        let timeLeft = 10800; // 180 minutes in seconds
        let timerInterval;
        let studentName = '';

        function startExam(event) {
            event.preventDefault();
            studentName = document.getElementById('studentName').value.trim();
            
            if (!studentName) {
                alert('Silakan masukkan nama Anda terlebih dahulu!');
                return;
            }

            document.getElementById('loginForm').classList.add('hidden');
            document.getElementById('examInterface').classList.remove('hidden');
            document.getElementById('timer').classList.remove('hidden');
            document.getElementById('examStudentName').textContent = studentName;
            
            // Initialize answers arrays
            answers.indonesian = new Array(25).fill(null);
            answers.math = new Array(25).fill(null);
            answers.english = new Array(25).fill(null);
            
            generateQuestionGrid();
            startTimer();
            loadQuestion();
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    finishExam();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            document.getElementById('timeDisplay').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function loadQuestion() {
            const questions = examData[currentSubject];
            const question = questions[currentQuestion];
            
            // Update UI
            const subjectNames = {
                'indonesian': 'Bahasa Indonesia',
                'math': 'Matematika',
                'english': 'Bahasa Inggris'
            };
            
            document.getElementById('subjectTitle').textContent = subjectNames[currentSubject];
            document.getElementById('questionNumber').textContent = currentQuestion + 1;
            document.getElementById('totalQuestions').textContent = questions.length;
            document.getElementById('questionText').textContent = question.question;
            
            // Update progress
            const totalQuestions = Object.values(examData).reduce((sum, subject) => sum + subject.length, 0);
            const currentQuestionGlobal = getCurrentGlobalQuestionNumber();
            const progress = (currentQuestionGlobal / totalQuestions) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            // Load options
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition duration-200';
                
                const savedAnswer = answers[currentSubject][currentQuestion];
                const isSelected = savedAnswer === index;
                
                if (isSelected) {
                    optionDiv.classList.add('bg-blue-50', 'border-blue-300');
                }
                
                optionDiv.innerHTML = `
                    <input type="radio" name="answer" value="${index}" id="option${index}" 
                           ${isSelected ? 'checked' : ''} 
                           onchange="saveAnswer(${index})" 
                           class="w-4 h-4 text-blue-600">
                    <label for="option${index}" class="flex-1 cursor-pointer text-gray-700">
                        ${String.fromCharCode(65 + index)}. ${option}
                    </label>
                `;
                
                optionsContainer.appendChild(optionDiv);
            });
            
            // Update navigation buttons and question grid
            updateNavigationButtons();
            updateQuestionGrid();
        }

        function getCurrentGlobalQuestionNumber() {
            let globalNumber = 0;
            const subjects = ['indonesian', 'math', 'english'];
            
            for (let i = 0; i < subjects.length; i++) {
                if (subjects[i] === currentSubject) {
                    return globalNumber + currentQuestion + 1;
                }
                globalNumber += examData[subjects[i]].length;
            }
            return globalNumber;
        }

        function saveAnswer(answerIndex) {
            answers[currentSubject][currentQuestion] = answerIndex;
            
            // Update option styling
            const options = document.querySelectorAll('#optionsContainer > div');
            options.forEach((option, index) => {
                option.classList.remove('bg-blue-50', 'border-blue-300');
                if (index === answerIndex) {
                    option.classList.add('bg-blue-50', 'border-blue-300');
                }
            });
            
            // Update question grid
            updateQuestionGrid();
        }

        function nextQuestion() {
            if (currentQuestion < examData[currentSubject].length - 1) {
                currentQuestion++;
            } else {
                // Move to next subject
                if (currentSubject === 'indonesian') {
                    currentSubject = 'math';
                    currentQuestion = 0;
                } else if (currentSubject === 'math') {
                    currentSubject = 'english';
                    currentQuestion = 0;
                } else {
                    // All subjects completed
                    finishExam();
                    return;
                }
            }
            loadQuestion();
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
            } else {
                // Move to previous subject
                if (currentSubject === 'math') {
                    currentSubject = 'indonesian';
                    currentQuestion = examData.indonesian.length - 1;
                } else if (currentSubject === 'english') {
                    currentSubject = 'math';
                    currentQuestion = examData.math.length - 1;
                }
            }
            loadQuestion();
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const finishBtn = document.getElementById('finishBtn');
            
            // Previous button
            prevBtn.disabled = (currentSubject === 'indonesian' && currentQuestion === 0);
            
            // Next/Finish button
            const isLastQuestion = (currentSubject === 'english' && currentQuestion === examData.english.length - 1);
            
            if (isLastQuestion) {
                nextBtn.classList.add('hidden');
                finishBtn.classList.remove('hidden');
            } else {
                nextBtn.classList.remove('hidden');
                finishBtn.classList.add('hidden');
            }
        }

        function finishExam() {
            clearInterval(timerInterval);
            
            // Calculate scores
            const scores = calculateScores();
            
            // Hide exam interface and show results
            document.getElementById('examInterface').classList.add('hidden');
            document.getElementById('resultsInterface').classList.remove('hidden');
            document.getElementById('timer').classList.add('hidden');
            
            // Display results
            displayResults(scores);
        }

        function calculateScores() {
            const scores = {
                indonesian: 0,
                math: 0,
                english: 0
            };
            
            // Calculate Indonesian score
            for (let i = 0; i < 25; i++) {
                if (answers.indonesian[i] === examData.indonesian[i].correct) {
                    scores.indonesian++;
                }
            }
            
            // Calculate Math score
            for (let i = 0; i < 25; i++) {
                if (answers.math[i] === examData.math[i].correct) {
                    scores.math++;
                }
            }
            
            // Calculate English score
            for (let i = 0; i < 25; i++) {
                if (answers.english[i] === examData.english[i].correct) {
                    scores.english++;
                }
            }
            
            return scores;
        }

        function displayResults(scores) {
            // Display individual subject scores
            document.getElementById('indoScore').textContent = scores.indonesian;
            document.getElementById('mathScore').textContent = scores.math;
            document.getElementById('engScore').textContent = scores.english;
            
            // Calculate points (each correct answer = 4 points)
            const indoPoints = scores.indonesian * 4;
            const mathPoints = scores.math * 4;
            const engPoints = scores.english * 4;
            
            document.getElementById('indoPoints').textContent = `${indoPoints} poin`;
            document.getElementById('mathPoints').textContent = `${mathPoints} poin`;
            document.getElementById('engPoints').textContent = `${engPoints} poin`;
            
            // Calculate final score (out of 300)
            const totalCorrect = scores.indonesian + scores.math + scores.english;
            const finalScore = totalCorrect * 4;
            const totalWrong = 75 - totalCorrect;
            
            document.getElementById('finalScore').textContent = finalScore;
            document.getElementById('correctAnswers').textContent = totalCorrect;
            document.getElementById('wrongAnswers').textContent = totalWrong;
            
            // Determine grade category
            let category = '';
            if (finalScore >= 270) category = 'Sangat Baik (A)';
            else if (finalScore >= 240) category = 'Baik (B)';
            else if (finalScore >= 210) category = 'Cukup (C)';
            else if (finalScore >= 180) category = 'Kurang (D)';
            else category = 'Sangat Kurang (E)';
            
            document.getElementById('gradeCategory').textContent = category;
        }

        function restartExam() {
            // Reset all variables
            currentSubject = 'indonesian';
            currentQuestion = 0;
            timeLeft = 10800;
            studentName = '';
            
            // Reset answers
            answers = {
                indonesian: [],
                math: [],
                english: []
            };
            
            // Clear timer
            if (timerInterval) {
                clearInterval(timerInterval);
            }
            
            // Reset form
            document.getElementById('studentName').value = '';
            
            // Show login form
            document.getElementById('resultsInterface').classList.add('hidden');
            document.getElementById('loginForm').classList.remove('hidden');
        }

        function generateQuestionGrid() {
            // Generate Indonesian questions grid (1-25)
            const indoGrid = document.getElementById('indoQuestionGrid');
            indoGrid.innerHTML = '';
            for (let i = 0; i < 25; i++) {
                const btn = document.createElement('button');
                btn.className = 'w-8 h-8 text-sm font-semibold rounded transition duration-200 hover:scale-105';
                btn.textContent = i + 1;
                btn.onclick = () => goToQuestion('indonesian', i);
                indoGrid.appendChild(btn);
            }

            // Generate Math questions grid (26-50)
            const mathGrid = document.getElementById('mathQuestionGrid');
            mathGrid.innerHTML = '';
            for (let i = 0; i < 25; i++) {
                const btn = document.createElement('button');
                btn.className = 'w-8 h-8 text-sm font-semibold rounded transition duration-200 hover:scale-105';
                btn.textContent = i + 26;
                btn.onclick = () => goToQuestion('math', i);
                mathGrid.appendChild(btn);
            }

            // Generate English questions grid (51-75)
            const engGrid = document.getElementById('engQuestionGrid');
            engGrid.innerHTML = '';
            for (let i = 0; i < 25; i++) {
                const btn = document.createElement('button');
                btn.className = 'w-8 h-8 text-sm font-semibold rounded transition duration-200 hover:scale-105';
                btn.textContent = i + 51;
                btn.onclick = () => goToQuestion('english', i);
                engGrid.appendChild(btn);
            }

            updateQuestionGrid();
        }

        function updateQuestionGrid() {
            const subjects = ['indonesian', 'math', 'english'];
            const grids = ['indoQuestionGrid', 'mathQuestionGrid', 'engQuestionGrid'];

            subjects.forEach((subject, subjectIndex) => {
                const grid = document.getElementById(grids[subjectIndex]);
                const buttons = grid.querySelectorAll('button');
                
                buttons.forEach((btn, questionIndex) => {
                    // Reset classes
                    btn.className = 'w-8 h-8 text-sm font-semibold rounded transition duration-200 hover:scale-105';
                    
                    // Check if this is the current question
                    if (subject === currentSubject && questionIndex === currentQuestion) {
                        btn.className += ' bg-blue-600 text-white';
                    }
                    // Check if question is answered
                    else if (answers[subject][questionIndex] !== null) {
                        btn.className += ' bg-green-500 text-white';
                    }
                    // Unanswered question
                    else {
                        btn.className += ' bg-gray-300 text-gray-700 hover:bg-gray-400';
                    }
                });
            });
        }

        function goToQuestion(subject, questionIndex) {
            currentSubject = subject;
            currentQuestion = questionIndex;
            loadQuestion();
            toggleQuestionPanel(); // Close the panel after selection
        }

        function toggleQuestionPanel() {
            const panel = document.getElementById('questionPanel');
            const overlay = document.getElementById('questionPanelOverlay');
            
            if (panel.classList.contains('hidden')) {
                panel.classList.remove('hidden');
                overlay.classList.remove('hidden');
                // Add slide-in animation
                panel.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    panel.style.transform = 'translateX(0)';
                }, 10);
            } else {
                // Add slide-out animation
                panel.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    panel.classList.add('hidden');
                    overlay.classList.add('hidden');
                }, 300);
            }
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'986ff8c601e12df8',t:'MTc1OTE5NjAwMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
